{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\n\nform.addEventListener('input', onFormInput);\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput() {\n  const emailValue = form.elements.email.value.trim();\n  const messageValue = form.elements.message.value.trim();\n\n  const myData = {\n    emailValue,\n    messageValue,\n  };\n  saveToLS(STORAGE_KEY, myData);\n}\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const jsonData = localStorage.getItem(key);\n  try {\n    return JSON.parse(jsonData);\n  } catch {\n    return jsonData;\n  }\n}\n\nfunction init() {\n  const myData = loadFromLS(STORAGE_KEY) || {};\n  form.elements.email.value = myData.emailValue || '';\n  form.elements.message.value = myData.messageValue || '';\n}\n\ninit();\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const emailValue = form.elements.email.value.trim();\n  const messageValue = form.elements.message.value.trim();\n  const myData = {\n    emailValue,\n    messageValue,\n  };\n\n  if (emailValue === '' || messageValue === '') {\n    return;\n  } else {\n    console.log(myData);\n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n  }\n}\n"],"names":["STORAGE_KEY","form","onFormInput","onFormSubmit","emailValue","messageValue","saveToLS","key","value","jsonData","loadFromLS","init","myData"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EACnCA,EAAK,cAAc,UAAU,EAE9CA,EAAK,iBAAiB,QAASC,CAAW,EAC1CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASD,GAAc,CACrB,MAAME,EAAaH,EAAK,SAAS,MAAM,MAAM,OACvCI,EAAeJ,EAAK,SAAS,QAAQ,MAAM,OAMjDK,EAASN,EAJM,CACb,WAAAI,EACA,aAAAC,CACJ,CAC8B,CAC9B,CAEA,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASC,EAAWH,EAAK,CACvB,MAAME,EAAW,aAAa,QAAQF,CAAG,EACzC,GAAI,CACF,OAAO,KAAK,MAAME,CAAQ,CAC9B,MAAI,CACA,OAAOA,CACR,CACH,CAEA,SAASE,GAAO,CACd,MAAMC,EAASF,EAAWV,CAAW,GAAK,CAAA,EAC1CC,EAAK,SAAS,MAAM,MAAQW,EAAO,YAAc,GACjDX,EAAK,SAAS,QAAQ,MAAQW,EAAO,cAAgB,EACvD,CAEAD,IAEA,SAASR,EAAa,EAAG,CACvB,EAAE,eAAc,EAEhB,MAAMC,EAAaH,EAAK,SAAS,MAAM,MAAM,OACvCI,EAAeJ,EAAK,SAAS,QAAQ,MAAM,OAC3CW,EAAS,CACb,WAAAR,EACA,aAAAC,CACJ,EAEMD,IAAe,IAAMC,IAAiB,KAGxC,QAAQ,IAAIO,CAAM,EAClB,aAAa,WAAWZ,CAAW,EACnCC,EAAK,MAAK,EAEd"}