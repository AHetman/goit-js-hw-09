{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\n\nform.addEventListener('input', onFormInput);\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput() {\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n\n  const myData = {\n    email,\n    message,\n  };\n  saveToLS(STORAGE_KEY, myData);\n}\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const jsonData = localStorage.getItem(key);\n  return JSON.parse(jsonData);\n}\n\nfunction init() {\n  const myData = loadFromLS(STORAGE_KEY) || {};\n  form.elements.email.value = myData.email || '';\n  form.elements.message.value = myData.message || '';\n}\n\ninit();\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n  const myData = {\n    email,\n    message,\n  };\n\n  if (email === '' || message === '') {\n    alert('All form fields must be filled in');\n  } else {\n    console.log(myData);\n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n  }\n}\n"],"names":["STORAGE_KEY","form","onFormInput","onFormSubmit","email","message","saveToLS","key","value","jsonData","loadFromLS","init","myData"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EACnCA,EAAK,cAAc,UAAU,EAE9CA,EAAK,iBAAiB,QAASC,CAAW,EAC1CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASD,GAAc,CACrB,MAAME,EAAQH,EAAK,SAAS,MAAM,MAAM,OAClCI,EAAUJ,EAAK,SAAS,QAAQ,MAAM,OAM5CK,EAASN,EAJM,CACb,MAAAI,EACA,QAAAC,CACJ,CAC8B,CAC9B,CAEA,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASC,EAAWH,EAAK,CACvB,MAAME,EAAW,aAAa,QAAQF,CAAG,EACzC,OAAO,KAAK,MAAME,CAAQ,CAC5B,CAEA,SAASE,GAAO,CACd,MAAMC,EAASF,EAAWV,CAAW,GAAK,CAAA,EAC1CC,EAAK,SAAS,MAAM,MAAQW,EAAO,OAAS,GAC5CX,EAAK,SAAS,QAAQ,MAAQW,EAAO,SAAW,EAClD,CAEAD,IAEA,SAASR,EAAa,EAAG,CACvB,EAAE,eAAc,EAEhB,MAAMC,EAAQH,EAAK,SAAS,MAAM,MAAM,OAClCI,EAAUJ,EAAK,SAAS,QAAQ,MAAM,OAMxCG,IAAU,IAAMC,IAAY,GAC9B,MAAM,mCAAmC,GAEzC,QAAQ,IARK,CACb,MAAAD,EACA,QAAAC,CACJ,CAKsB,EAClB,aAAa,WAAWL,CAAW,EACnCC,EAAK,MAAK,EAEd"}